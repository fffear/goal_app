<h1><%= @goal.title %></h1>

<table>
  <% [:private, :completed, :details].each do |attr_name| %>
    <% if attr_name == :private %>
      <tr>
        <th>Visibility:</th>
        <td><%= @goal.send(attr_name) ? "Private" : "Public" %></td>
      </tr>
    <% elsif attr_name == :completed %>
      <tr>
        <th>Progress:</th>
        <td><%= @goal.send(attr_name) ? "Completed" : "Incomplete" %></td>
      </tr>
    <% else %>
      <tr>
        <th><%= attr_name %></th>
        <td><%= @goal.send(attr_name) %></td>
      </tr>
    <% end %>
  <% end %>
</table>

<% if current_user && current_user == @goal.user %>
  <%= button_to "Complete Goal #{@goal.id}", complete_goal_url(@goal), method: :post %>
  <%= link_to "Edit Goal", edit_goal_url(@goal) %>
  <%= button_to "Delete Goal", goal_url(@goal), method: :delete %>
<% end %>


